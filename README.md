# driftmark - Fund Transfer Service (gRPC)

A **gRPC-based Fund Transfer Service** implemented in Go for real-time transaction processing between accounts. This project demonstrates structured logging with **Zap**, robust error handling with gRPC status codes, and unit tests for ensuring reliability.

---

## Features

- **Real-Time Fund Transfer**: Process fund transfers between accounts with transaction details.
- **Structured Logging**: Logs using [Zap](https://github.com/uber-go/zap) for better observability.
- **Error Handling**: Implements gRPC error codes for precise error reporting.
- **Unit Testing**: Includes unit tests for success and failure scenarios.
- **Proto Definitions**: Based on `Protocol Buffers` for defining the service and messages.

---

## Project Structure

```python
.
├── proto
│   └── fund_transfer.proto    # Protocol Buffer definitions for the Fund Transfer Service
├── server
│   ├── main.go                # Server implementation for the gRPC service
│   ├── server_test.go         # Unit tests for the server
├── client
│   └── main.go                # Client implementation to test the service
├── logs
│   └── logs.json              # (Optional) Sample structured logs generated by the service
├── Dockerfile                 # Dockerfile to containerize the application
├── go.mod                     # Go module dependencies
├── go.sum                     # Go module checksums
├── README.md                  # Documentation for the project
└── LICENSE                    # License for the project
```


---

## Getting Started

### Prerequisites

- [Go](https://golang.org/dl/) (1.21 or later)
- [Protocol Buffers Compiler](https://grpc.io/docs/protoc-installation/)
- Install `protoc-gen-go` and `protoc-gen-go-grpc`:
  ```bash
  go install google.golang.org/protobuf/cmd/protoc-gen-go@latest
  go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@latest
  ```
  
### Installation
1. **Clone the repository**:
   ```bash
   git clone https://github.com/your-username/golang-grpc-portfolio.git
   cd golang-grpc-portfolio
   ```
2. **Generate the gRPC code**:
   ```bash
   protoc --go_out=. --go-grpc_out=. proto/fund_transfer.proto
   ```
3. **Install dependencies**:
   ```bash
   go mod tidy
   ```

### Running the Application
1. **Start the Server**:
   ```bash
   go run server/main.go
   ```
2. **Run the Client**:
   ```bash
   go run client/main.go
   ```

## API Definition
The Fund Transfer Service is defined in proto/fund_transfer.proto:

### **Service**: FundTransferService
#### **RPC Method**: ProcessFundTransfer

- **Request**:
  - ***transaction_id***: Unique ID for the transaction.
  - ***source_account***: Source account number.
  - ***destination_account***: Destination account number.
  - ***amount***: Amount to transfer.
  - ***currency***: Currency of the transaction (e.g., USD).
  - ***transfer_type***: Type of transfer (debit or credit).
- **Response**:
  - ***transaction_id***: Same as the request ID.
  - ***status***: SUCCESS or FAILED.
  - ***message***: Additional details about the transfer.
